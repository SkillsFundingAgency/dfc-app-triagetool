
@using Microsoft.Extensions.Configuration
@model TriageToolOptionViewModel

<div class="triage-body">
    <form method="post" novalidate="novalidate" action="/triagetool" id="triageToolFilters">
            
            <div class="dfc-app-triage-search-header-panel">
            <div class="dfc-app-triage-filter-header">
                <span>Select the advice you want to see</span>
            </div>
            </div>
        <div class="dfc-app-triage-search-panel">
                    <div class="dfc-app-triage-filter-sub-header">
                        <span>Showing all</span>
                    </div>

          <div class="dfc-app-triage-filter-advice-group-container govuk-grid-row">
                        @if(Model.FilterAdviceGroups != null )
                        {
                            @foreach (var fac in Model.FilterAdviceGroups)
                            {
                            <div class="govuk-grid-column-one-third dfc-app-triage-filter-item">
                                <div class="govuk-checkboxes--small">
                                        <div class="govuk-checkboxes__item">
                                            <input class="govuk-checkboxes__input" id="@fac.ContentItemId" type="checkbox" value="@fac.ContentItemId"/>
                                                        <label class="govuk-label govuk-checkboxes__label" for="@fac.ContentItemId">
                                                @fac.Title
                                            </label>
                                        </div>
                                </div>
                            </div>

                            }
                        }
                     </div>
                     <div>
                         <button class="govuk-button dfc-app-triage-btn ncs-button__primary govuk-button--start">Apply Filters</button>
                    </div>

         </div>
        <div class="dfc-app-triage-page-number-panel">

            <span>Showing @Model.Pages.Count() career resources </span>
         </div>
         @foreach(var filterAdviceGroup in Model.FilterAdviceGroups)
        {
            <div class="dfc-app-filter-advice-group-result-container">
                <span class="heading">
                    @filterAdviceGroup.Title
                </span>
                <div class="product-tile-container">
                @foreach(var resultPage in Model.Pages.Where(x => x.FilterAdviceGroup.ContentItems.Any(x => x.ContentItemId == filterAdviceGroup.ContentItemId)))
                {
              
                        <div class="article-tile">
                            <div class="tile-header">
                                <span>  @resultPage.PageLocation.FullUrl </span>
                            </div>
                            <div class="tile-decription">
                                @resultPage.PageLocation.FullUrl
                            </div>
                        </div>
                       @*  <div class="app-view-tile">
                            <div class="tile-header">
                                <span class="header-text"> Explore Careers </span>
                                <img src="http://127.0.0.1:8080/assets/dist/images/compass.png" class="header-image" />
                            </div>
                            <div class="tile-description">
                                How to understand the skills you already have and prepare to find a new job.
                            </div>
                        </div>

                        <div class="app-view-tile">
                            <div class="tile-header">
                                <span class="header-text"> Explore Careers </span>
                                <img src="http://127.0.0.1:8080/assets/dist/images/compass.png" class="header-image" />
                            </div>
                            <div class="tile-description">
                                How to understand the skills you already have and prepare to find a new job.
                            </div>
                        </div>
                        <div class="app-view-tile">
                            <div class="tile-header">
                                <span class="header-text"> Explore Careers </span>
                                <img src="http://127.0.0.1:8080/assets/dist/images/compass.png" class="header-image" />
                            </div>
                            <div class="tile-description">
                                How to understand the skills you already have and prepare to find a new job.
                            </div>
                        </div> *@
                   
                }
                </div>
                @*  <div style="width: 300px;height: 190px;display:inline-block;border:solid 1px;">

            <img style="width: 300px;height: 190px;"src="http://127.0.0.1:8080/assets/dist/images/FilterGroupTileImage.jpg" alt="not loaded" />
            </div> *@
               
            </div>
        }
    </form>
</div>
@* <div>
    <form method="post" novalidate="novalidate" action="/triagetool" id="TriageToolFilters">
        <div class="govuk-grid-row govuk-!-margin-top-2 govuk-!-padding-top-5">
            <div class="govuk-grid-column-one-third triage-filter-hide">
                <button class="govuk-button filters-button" id="show-filters-button">Show filters</button>
                <div class="filters" id="allSecondaryFilterAccordions">
                    <div id="allSecondaryFilterAccordions">
                        <div class="secondaryFilters" id="secondaryFilters1">
                            <div id="secondaryFiltersSet1">
                                <div class="govuk-form-group">
                                    <fieldset class="govuk-fieldset">
                                        <legend class="govuk-label govuk-!-font-weight-bold" id="secondaryFiltersHeading1">
                                            Filter results
                                        </legend>

                                        <p class="govuk-body filters-count" id="secondaryFiltersSelected1">
                                            @Model.SelectedFilters.Count() selected
                                        </p>
                                        <div class="govuk-checkboxes govuk-checkboxes--small govuk-radios govuk-radios--small" id="filterCheckboxes">
                                            @foreach (var filter in Model.Filters)
                                            {
                                                @(await @Html.PartialAsync("TriageToolPartialViews/TriageFilterItem", filter).ConfigureAwait(false))
                                            }
                                        </div>

                                    </fieldset>
                                </div>

                            </div>
                        </div>
                    </div>
                    <noscript>
                        <button data-module="govuk-button" class="govuk-button" type="submit">Apply filters</button>
                    </noscript>
                    <input id="SelectedOption" name="triage-select" type="hidden" value="@Model.Title">
                    <p class="clear-filters"><a id="clearFilters" href="/triagetool/@Model.Title">Clear filters</a></p>
                    <div class="triage-tool-sidebar">
                        @Html.Raw(Model.SharedContent)
                    </div>
                    <select class="govuk-select ncs-triage-select" id="pocSelect" name="poc-select">
                        <option value="union">original</option>
                        <option value="intersection">option 3</option>
                        <option value="filters" selected>option 4</option>
                        <option value="radio">option 5</option>
                        <option value="disable">option 6</option>
                    </select>
                </div>
            </div>
            <div class="govuk-grid-column-two-thirds">
                <p class="govuk-body">Showing <span class="fac-result-count triage-result-count" id="totalArticles">@Model.Pages.Count @(Model.Pages.Count == 1 ? "suggestion": "suggestions")</span> for "<span class="govuk-!-font-weight-bold" id="primaryFiltersSelectedValue">@Model.Title</span>"</p>
                <hr class="govuk-section-break govuk-section-break--visible govuk-!-margin-bottom-6 govuk-!-margin-top-2">
                <div class="triage-opt2 results" id="allArticles">
                    <div class="results-block">
                        <div class="inner-block">
                            @(await Html.PartialAsync("TriageToolPartialViews/TriageToolPage", Model))
                        </div>
                    </div>
                </div>
                <div class="triage-tool-results app-related-items">
                    @Html.Raw(Model.SharedContent)
                </div>
            </div>
            <div class="govuk-grid-column-one-third triage-filter-show">
                <div class="triage-tool-sidebar app-related-items">
                    @Html.Raw(Model.SharedContent)
                </div>
            </div>
        </div>
    </form>
</div> *@